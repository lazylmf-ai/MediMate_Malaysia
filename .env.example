# MediMate Malaysia - Environment Configuration Template
# Copy this file to .env and update with your actual values

# ============================================================================
# ENVIRONMENT SETTINGS
# ============================================================================
NODE_ENV=development
LOG_LEVEL=debug
MALAYSIA_TIMEZONE=Asia/Kuala_Lumpur

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL Settings
POSTGRES_DB=medimate_dev
POSTGRES_USER=postgres  
POSTGRES_PASSWORD=postgres123
POSTGRES_PORT=5432
POSTGRES_HOST=localhost
POSTGRES_TEST_DB=medimate_test

# Database URLs (constructed from above values)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
TEST_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_TEST_DB}

# ============================================================================
# REDIS CONFIGURATION  
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis123
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0

# Redis Database Allocation
REDIS_SESSION_DB=0
REDIS_CACHE_DB=1
REDIS_CULTURAL_DB=2
REDIS_QUEUE_DB=3

# ============================================================================
# MINIO (S3) CONFIGURATION
# ============================================================================
MINIO_ENDPOINT=http://localhost:9000
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_USE_SSL=false
MINIO_REGION=ap-southeast-1

# Default buckets (comma-separated)
MINIO_DEFAULT_BUCKETS=medimate-uploads,medimate-avatars,medimate-documents,medimate-backups,medimate-reports

# S3-compatible configuration for application
S3_ENDPOINT=${MINIO_ENDPOINT}
S3_ACCESS_KEY=${MINIO_ROOT_USER}
S3_SECRET_KEY=${MINIO_ROOT_PASSWORD}
S3_BUCKET_UPLOADS=medimate-uploads
S3_BUCKET_AVATARS=medimate-avatars
S3_BUCKET_DOCUMENTS=medimate-documents

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================

# pgAdmin (Development only)
PGADMIN_PORT=5050
PGADMIN_EMAIL=admin@medimate.local
PGADMIN_PASSWORD=admin123

# Redis Commander (Development only) 
REDIS_COMMANDER_PORT=8081

# Mailhog (Development only)
MAILHOG_SMTP_PORT=1025
MAILHOG_WEB_PORT=8025

# ============================================================================
# MALAYSIAN CULTURAL FEATURES
# ============================================================================
CULTURAL_FEATURES_ENABLED=true
PRAYER_TIMES_ENABLED=true
MALAYSIAN_HOLIDAYS_ENABLED=true
RAMADAN_ADJUSTMENTS_ENABLED=true

# Prayer Times API Configuration
PRAYER_TIMES_API_URL=http://localhost:8082
PRAYER_TIMES_API_KEY=dev-key-123
PRAYER_TIMES_CALCULATION_METHOD=JAKIM

# Malaysian Cities for Prayer Times
PRAYER_TIMES_CITIES=Kuala Lumpur,George Town,Johor Bahru,Kota Kinabalu,Kuching,Ipoh,Shah Alam

# Cultural Events API
CULTURAL_EVENTS_API_URL=http://localhost:8083
MALAYSIAN_STATES=Johor,Kedah,Kelantan,Melaka,Negeri Sembilan,Pahang,Penang,Perak,Perlis,Sabah,Sarawak,Selangor,Terengganu,Kuala Lumpur,Labuan,Putrajaya

# ============================================================================
# HEALTHCARE INTEGRATION
# ============================================================================

# MOH (Ministry of Health) Integration
MOH_API_ENABLED=true
MOH_API_URL=http://localhost:8080
MOH_API_KEY=dev-moh-key-123
MOH_CLIENT_ID=medimate-dev
MOH_CLIENT_SECRET=dev-secret-456

# Private Healthcare Providers
PRIVATE_HEALTHCARE_INTEGRATION=true
KPJ_API_ENABLED=false
IHH_API_ENABLED=false
PANTAI_API_ENABLED=false

# Mock APIs (Development/Testing)
MOCK_MOH_API_ENABLED=true
MOCK_PRAYER_API_ENABLED=true
MOCK_HEALTHCARE_PROVIDERS_ENABLED=true

# ============================================================================
# COMPLIANCE & SECURITY
# ============================================================================

# PDPA (Personal Data Protection Act) Malaysia
PDPA_COMPLIANCE_ENABLED=true
DATA_RETENTION_YEARS=7
CONSENT_EXPIRY_DAYS=365
AUDIT_LOGGING_ENABLED=true

# Security Headers
SECURITY_HEADERS_ENABLED=true
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
RATE_LIMITING_ENABLED=true
MAX_REQUESTS_PER_MINUTE=100

# Encryption
ENCRYPTION_KEY=dev-encryption-key-change-in-production-32-chars
JWT_SECRET=dev-jwt-secret-change-in-production-minimum-32-characters
SESSION_SECRET=dev-session-secret-change-in-production

# ============================================================================
# NOTIFICATION SERVICES
# ============================================================================

# Email Configuration (Development uses Mailhog)
SMTP_HOST=localhost
SMTP_PORT=${MAILHOG_SMTP_PORT}
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=noreply@medimate.my

# SMS Configuration (for medication reminders)
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Push Notifications
FIREBASE_PROJECT_ID=medimate-malaysia
FIREBASE_PRIVATE_KEY_ID=your-firebase-key-id
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@medimate-malaysia.iam.gserviceaccount.com

# ============================================================================
# MONITORING & ANALYTICS
# ============================================================================

# Prometheus Monitoring
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
METRICS_ENDPOINT=/metrics

# Grafana
GRAFANA_ENABLED=true
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin123

# Application Monitoring
SENTRY_DSN=your-sentry-dsn-here
SENTRY_ENVIRONMENT=${NODE_ENV}

# Health Check Endpoints
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_ENDPOINT=/health
DEEP_HEALTH_CHECK_ENDPOINT=/health/deep

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=medimate-backups
BACKUP_ENCRYPTION_ENABLED=true

# ============================================================================
# DEVELOPMENT & TESTING
# ============================================================================

# Test Database
TEST_MODE=false
PARALLEL_TESTS=true
TEST_TIMEOUT=30000

# Development Features
HOT_RELOAD_ENABLED=true
DEBUG_ENABLED=true
DEVELOPMENT_CORS_ENABLED=true

# API Documentation
API_DOCS_ENABLED=true
SWAGGER_UI_ENABLED=true
API_DOCS_PATH=/api-docs

# ============================================================================
# MALAYSIAN LOCALIZATION
# ============================================================================

# Supported Languages
DEFAULT_LANGUAGE=ms
SUPPORTED_LANGUAGES=ms,en,zh,ta

# Currency and Formatting
DEFAULT_CURRENCY=MYR
DATE_FORMAT=DD/MM/YYYY
TIME_FORMAT=24h
TIMEZONE=${MALAYSIA_TIMEZONE}

# Malaysian Phone Number Format
PHONE_NUMBER_COUNTRY_CODE=+60
PHONE_NUMBER_FORMAT=XXX-XXXXXXX

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Core Features
USER_REGISTRATION_ENABLED=true
FAMILY_CIRCLE_ENABLED=true
MEDICATION_TRACKING_ENABLED=true
ADHERENCE_REPORTING_ENABLED=true

# Advanced Features  
HEALTHCARE_PROVIDER_DASHBOARD=true
ANALYTICS_DASHBOARD_ENABLED=true
MOBILE_APP_ENABLED=true
WEB_APP_ENABLED=true

# Malaysian Specific Features
PRAYER_TIME_MEDICATION_ADJUSTMENT=true
RAMADAN_MODE_ENABLED=true
CULTURAL_CALENDAR_INTEGRATION=true
MULTILINGUAL_SUPPORT=true
IC_NUMBER_VALIDATION=true

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Connection Pool Settings
DB_CONNECTION_POOL_MIN=5
DB_CONNECTION_POOL_MAX=20
DB_CONNECTION_TIMEOUT=30000

# Cache Settings
CACHE_TTL_SHORT=300      # 5 minutes
CACHE_TTL_MEDIUM=1800    # 30 minutes  
CACHE_TTL_LONG=86400     # 24 hours

# File Upload Limits
MAX_FILE_SIZE=10485760   # 10MB
MAX_FILES_PER_UPLOAD=5
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# PRODUCTION OVERRIDES
# ============================================================================
# These values should be overridden in production environment

# Production Database (use managed database service)
# POSTGRES_HOST=your-production-db-host
# POSTGRES_PASSWORD=your-secure-production-password

# Production Redis (use managed Redis service)  
# REDIS_HOST=your-production-redis-host
# REDIS_PASSWORD=your-secure-redis-password

# Production Object Storage (use AWS S3 or equivalent)
# S3_ENDPOINT=https://s3.ap-southeast-1.amazonaws.com
# S3_ACCESS_KEY=your-production-access-key
# S3_SECRET_KEY=your-production-secret-key

# Production Security
# ENCRYPTION_KEY=your-32-char-production-encryption-key
# JWT_SECRET=your-production-jwt-secret-minimum-32-characters
# SESSION_SECRET=your-production-session-secret

# Production HTTPS
# SSL_ENABLED=true
# SSL_CERT_PATH=/path/to/ssl/cert.pem
# SSL_KEY_PATH=/path/to/ssl/key.pem

# Production Monitoring
# SENTRY_DSN=your-production-sentry-dsn
# NEW_RELIC_LICENSE_KEY=your-new-relic-key

# ============================================================================
# NOTES
# ============================================================================
# 1. Never commit .env files to version control
# 2. Use Docker secrets in production for sensitive values
# 3. Regularly rotate passwords and API keys
# 4. Enable SSL/TLS in production environments
# 5. Use managed database services in production
# 6. Configure proper backup strategies
# 7. Monitor and log all access to healthcare data
# 8. Ensure PDPA compliance for Malaysian healthcare data