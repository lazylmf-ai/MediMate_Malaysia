#!/bin/bash
# MediMate Malaysia Docker Quick Commands
# Wrapper script for common Docker operations

set -e

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
DOCKER_SERVICES_SCRIPT="$SCRIPT_DIR/docker-services.sh"

# Colors
GREEN='\033[0;32m'
BLUE='\033[0;34m'
YELLOW='\033[1;33m'
NC='\033[0m'

log_info() {
    echo -e "${BLUE}‚ÑπÔ∏è  $1${NC}"
}

log_success() {
    echo -e "${GREEN}‚úÖ $1${NC}"
}

log_warning() {
    echo -e "${YELLOW}‚ö†Ô∏è  $1${NC}"
}

echo -e "${BLUE}üè• MediMate Malaysia Docker Manager${NC}"
echo ""

# Quick setup for development
if [[ "$1" == "setup" ]]; then
    log_info "Setting up MediMate development environment..."
    exec "$DOCKER_SERVICES_SCRIPT" setup
fi

# Quick start for development
if [[ "$1" == "start" ]]; then
    log_info "Starting MediMate services..."
    exec "$DOCKER_SERVICES_SCRIPT" up -e dev
fi

# Quick stop
if [[ "$1" == "stop" ]]; then
    log_info "Stopping MediMate services..."
    exec "$DOCKER_SERVICES_SCRIPT" down -e dev
fi

# Health check
if [[ "$1" == "health" ]]; then
    exec "$DOCKER_SERVICES_SCRIPT" health
fi

# Show status
if [[ "$1" == "status" ]]; then
    exec "$DOCKER_SERVICES_SCRIPT" status
fi

# Show logs
if [[ "$1" == "logs" ]]; then
    if [[ -n "$2" ]]; then
        exec "$DOCKER_SERVICES_SCRIPT" logs -s "$2"
    else
        exec "$DOCKER_SERVICES_SCRIPT" logs
    fi
fi

# If no specific command, show help
echo "Usage: $0 [COMMAND]"
echo ""
echo "Quick Commands:"
echo "  setup     - Initial development environment setup"
echo "  start     - Start all development services"
echo "  stop      - Stop all services"
echo "  health    - Check service health"
echo "  status    - Show service status"
echo "  logs [service] - Show logs (optionally for specific service)"
echo ""
echo "For advanced options, use: $DOCKER_SERVICES_SCRIPT --help"
echo ""
echo "üá≤üáæ MediMate Malaysia Healthcare Platform"